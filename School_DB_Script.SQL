CREATE TABLE QUESTION_TYPES(
    QUESTION_TYPE NUMBER(0,1) PRIMARY KEY ,
    TYPE_NAME VARCHAR2(32) NOT NULL
);
CREATE TABLE COURSE(
    COURSE_ID VARCHAR2(8) PRIMARY KEY,
    COURSE_NAME VARCHAR2(128) NOT NULL
);
CREATE TABLE CLO(
    CLO_ID VARCHAR2(12) PRIMARY KEY,
    CLO_NAME VARCHAR2(256) NOT NULL,
    CLO_DESC VARCHAR2(1024),
    COURSE_ID VARCHAR2(8) REFERENCES COURSE(COURSE_ID)
);
CREATE TABLE QUESTION(
    QUESTION_ID NUMBER(0,1) PRIMARY KEY,
    QUESTION_DESC VARCHAR2(1024) NOT NULL,
    QUESTION_TYPE INT REFERENCES QUESTION_TYPES(QUESTION_TYPE),
    MAX_MARKS INT NOT NULL
);
CREATE TABLE QUESTION_CLO(
    QUESTION_ID INT REFERENCES QUESTION(QUESTION_ID),
    CLO_ID VARCHAR2(12) REFERENCES CLO(CLO_ID)
    PRIMARY KEY(QUESTION_ID,CLO_ID)
);
CREATE TABLE QUALIFICATION(
    QUALIFICATION_ID NUMBER(0,1) PRIMARY KEY,
    NAME VARCHAR2(128) NOT NULL
);
CREATE TABLE FACULTY(
    FACULTY_ID NUMBER(0,1) PRIMARY KEY,
    CNIC VARCHAR2(15) UNIQUE,
    FIRST_NAME VARCHAR2(64) NOT NULL,
    LAST_NAME VARCHAR2(64) NOT NULL, 
    DOB DATE NOT NULL,
    GENDER VARCHAR2(7),
    HIRE_DATE DATE NOT NULL,
    NATIONALITY VARCHAR2(32) NOT NULL,
    RELIGION VARCHAR2(128),
    FULL_TIME BOOLEAN,
    SALARY INT NOT NULL
);
CREATE TABLE FACULTY_QUALIFICATION(
    FACULTY_ID INT REFERENCES FACULTY(FACULTY_ID),
    QUALIFICATION_ID INT REFERENCES QUALIFICATION(QUALIFICATION_ID)
);
CREATE TABLE ASSESSMENT(
    ASSESSMENT_ID NUMBER(0,1) PRIMARY KEY,
    COURSE_ID VARCHAR2(8) REFERENCES COURSE(COURSE_ID),
    FACULTY_ID INT REFERENCES FACULTY(FACULTY_ID),
    MAX_MARKS INT NOT NULL,
    ASSESSMENT_DATE DATE,
    ASSESSMENT_TYPE VARCHAR2(64)
);
CREATE TABLE QUESTION_ASSESSMENT(
    QUESTION_ID INT REFERENCES QUESTION(QUESTION_ID),
    ASSESSMENT_ID INT REFERENCES ASSESSMENT(ASSESSMENT_ID),
    PRIMARY KEY(QUESTION_ID, ASSESSMENT_ID)
);
CREATE TABLE ECA(
    ECA_ID NUMBER(0,1) PRIMARY KEY,
    NAME VARCHAR2(64) NOT NULL
);
CREATE TABLE CLASS(
    CLASS_ID NUMBER(0,1) PRIMARY KEY,
    STRENGTH INT NOT NULL,
    YEAR INT NOT NULL,
    SECTION VARCHAR2(2) NOT NULL
);
CREATE TABLE STUDENT(
    STUDENT_ID NUMBER(0,1) PRIMARY KEY,
    CNIC VARCHAR2(15) UNIQUE,
    FIRST_NAME VARCHAR2(64) NOT NULL,
    LAST_NAME VARCHAR2(64) NOT NULL, 
    DOB DATE NOT NULL,
    CLASS_ID INT REFERENCES CLASS(CLASS_ID),
    GENDER VARCHAR2(7),
    EMERGENCY_CONTACT VARCHAR2(20) NOT NULL,
    ADMISSION_DATE DATE NOT NULL,
    NATIONALITY VARCHAR2(32) NOT NULL,
    RELIGION VARCHAR2(128)   
);
CREATE TABLE STUDENT_ECA(
    STUDENT_ID INT REFERENCES STUDENT(STUDENT_ID),
    ECA_ID INT REFERENCES ECA(ECA_ID),
    ROLE VARCHAR2(128),
    PRIMARY KEY(STUDENT_ID,ECA_ID)
);
CREATE TABLE STD_ASMNT(
    STUDENT_ID INT REFERENCES STUDENT(STUDENT_ID),
    ASSESSMENT_ID INT REFERENCES ASSESSMENT(ASSESSMENT_ID),
    OBTAINED_MARKS INT NOT NULL,
    SUBMISSION_DATE DATE NOT NULL,
    PRIMARY KEY(STUDENT_ID, ASSESSMENT_ID)
);
CREATE TABLE CLASS_TEACHER(
    CLASS_ID INT REFERENCES CLASS(CLASS_ID),
    FACULTY_ID INT REFERENCES FACULTY(FACULTY_ID),
    PRIMARY KEY(CLASS_ID, FACULTY_ID)
);
CREATE TABLE CLASS_COURSE(
    CLASS_ID INT REFERENCES CLASS(CLASS_ID),
    COURSE_ID INT REFERENCES COURSE(COURSE_ID),
    START_TIME TIMESTAMP NOT NULL,
    END_TIME TIMESTAMP NOT NULL,
    FACULTY_ID INT REFERENCES FACULTY(FACULTY_ID),
    DAY VARCHAR2(8) NOT NULL,
    PRIMARY KEY (COURSE_ID, FACULTY_ID, CLASS_ID, START_TIME, DAY)
);
CREATE TABLE ATTENDANCE(
    STUDENT_ID INT REFERENCES STUDENT(STUDENT_ID),
    P_DATE DATE NOT NULL,
    PRESENT BOOLEAN NOT NULL,
    PRIMARY KEY(STUDENT_ID, P_DATE)
);
CREATE TABLE RELATION(
    RELATION_ID NUMBER(0,1) PRIMARY KEY,
    RELATION_TYPE VARCHAR2(64) NOT NULL
);
CREATE TABLE GUARDIAN(
    GUARDION_ID NUMBER(0,1) PRIMARY KEY,
    FIRST_NAME VARCHAR2(64) NOT NULL,
    LAST_NAME VARCHAR2(64) NOT NULL, 
    CNIC VARCHAR2(15) NOT NULL,
    PHONE_NUMBER VARCHAR2(20) NOT NULL,
    OCCUPATION VARCHAR2(128) ,
    NATIONALITY VARCHAR2(32) NOT NULL,
    RELIGION VARCHAR2(128) 
);
CREATE TABLE STUDENT_GUARDIAN(
    STUDENT_ID INT REFERENCES STUDENT(STUDENT_ID),
    GUARDIAN_ID INT REFERENCES GUARDIAN(GUARDIAN_ID),
    RELATION_ID INT REFERENCES RELATION(RELATION_ID),
    PRIMARY KEY(STUDENT_ID, GUARDIAN_ID)
);
CREATE TABLE TRANSACTION(
    TRANSACTION_ID NUMBER(0,1) PRIMARY KEY,
    STUDENT_ID INT REFERENCES STUDENT(STUDENT_ID),
    T_NAME VARCHAR2(128),
    T_AMOUNT INT NOT NULL,
    T_DATE DATE NOT NULL
);